<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>17 Barcode Scanner - ê´€ë¦¬ì ì„¤ì •</title>
    <link rel="stylesheet" href="../../assets/css/admin-theme.css">
    <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2@1.8.4/dist/quagga.min.js"></script>
    <style>
        /* ë°”ì½”ë“œ ìŠ¤ìº” UI */
        .scan-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .scan-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .scan-controls input {
            flex: 1;
        }

        .barcode-camera {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: 15px auto;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            display: none;
        }

        .barcode-camera.active {
            display: block;
        }

        #barcode-scanner {
            width: 100%;
            height: 300px;
        }

        #barcode-scanner video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .scan-guide-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 100px;
            border: 2px solid #2ecc71;
            border-radius: 8px;
            pointer-events: none;
        }

        .barcode-list {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }

        .barcode-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
        }

        .barcode-code {
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .barcode-remove {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .barcode-remove:hover {
            opacity: 0.8;
        }

        .empty-state {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-style: italic;
        }
    </style>
</head>

<body>
    <div class="container">
        <a href="../../admin.html" class="main-link">
            â† ì „ì²´ ê²Œì„ ëª©ë¡
        </a>

        <header class="admin-header">
            <h1>ğŸ”§ 17 Barcode Scanner ì„¤ì •</h1>
            <div class="subtitle">ê²Œì„ ì„¤ì • ê´€ë¦¬</div>
        </header>

        <div class="admin-form-card">
            <form id="settingsForm">

                <h2>âš™ï¸ ë‚œì´ë„ ì„¤ì •</h2>
                <p style="font-size: 14px; color: var(--text-light); margin-bottom: 20px;">
                    ìŠ¬ë¼ì´ë”ë¡œ ë‚œì´ë„ë¥¼ ì„ íƒí•˜ë©´ ê¸°ë³¸ê°’ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤. ì›í•˜ëŠ” ê²½ìš° ì„¸ë¶€ ê°’ì„ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>

                <!-- ë‚œì´ë„ ìŠ¬ë¼ì´ë” -->
                <div class="form-group">
                    <label for="difficultySlider">
                        ğŸšï¸ ë‚œì´ë„ ì„ íƒ: <strong id="difficultyLabel">ì‰¬ì›€</strong>
                    </label>
                    <input type="range" id="difficultySlider" min="0" max="2" step="1" value="0"
                        style="width: 100%; height: 8px; border-radius: 4px; margin: 10px 0;">
                    <div
                        style="display: flex; justify-content: space-between; font-size: 12px; color: var(--text-light); margin-top: -5px;">
                        <span>ğŸŸ¢ ì‰¬ì›€</span>
                        <span>ğŸŸ¡ ë³´í†µ</span>
                        <span>ğŸ”´ ì–´ë ¤ì›€</span>
                    </div>
                </div>

                <hr style="margin: 20px 0; border: none; border-top: 1px solid #e0e0e0;">

                <!-- í†µí•©ëœ ì„¤ì • ì…ë ¥ -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <h3 style="margin-top: 0;">ğŸ¯ ì„¸ë¶€ ì„¤ì •</h3>

                    <div class="form-group">
                        <label for="targetCount">ğŸ“Š ëª©í‘œ ë°”ì½”ë“œ ìˆ˜</label>
                        <input type="number" id="targetCount" class="form-input" min="1" max="10" value="1">
                        <small style="color: var(--text-light);">ì°¾ì•„ì•¼ í•  ë°”ì½”ë“œ ê°œìˆ˜</small>
                    </div>

                    <div class="form-group">
                        <label for="timeLimit">â±ï¸ ì‹œê°„ ì œí•œ (ì´ˆ)</label>
                        <input type="number" id="timeLimit" class="form-input" min="0" value="0">
                        <small style="color: var(--text-light);">0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ë¬´ì œí•œì…ë‹ˆë‹¤</small>
                    </div>
                </div>

                <h2>ğŸ“± ëª©í‘œ ë°”ì½”ë“œ ë“±ë¡</h2>
                <div class="scan-section">
                    <h3 style="margin-top: 0;">ğŸ¯ ì°¾ì•„ì•¼ í•  ë°”ì½”ë“œ</h3>

                    <div class="scan-controls">
                        <input type="text" id="barcodeInput" class="form-input" placeholder="ë°”ì½”ë“œ ë²ˆí˜¸ ì…ë ¥" maxlength="13">
                        <button type="button" class="btn btn-secondary" id="addBarcodeBtn">ì¶”ê°€</button>
                        <button type="button" class="btn btn-primary" id="scanBarcodeBtn">ğŸ“· ìŠ¤ìº”</button>
                    </div>

                    <div class="barcode-camera" id="barcodeCamera">
                        <div id="barcode-scanner">
                            <div class="scan-guide-box"></div>
                        </div>
                        <div style="text-align: center; padding: 10px; background: rgba(0,0,0,0.7);">
                            <button type="button" class="btn btn-danger" id="stopScanBtn" style="margin: 0;">â¹ï¸
                                ì •ì§€</button>
                        </div>
                    </div>

                    <div class="barcode-list" id="barcodeList">
                        <div class="empty-state">ë“±ë¡ëœ ë°”ì½”ë“œê°€ ì—†ìŠµë‹ˆë‹¤</div>
                    </div>
                </div>

                <h2>ğŸ“ ê²Œì„ í´ë¦¬ì–´ ì„¤ì • (Global Config)</h2>
                <div class="form-group">
                    <label for="secretCode">ğŸ”‘ ë¹„ë°€ë²ˆí˜¸/ìˆ«ì ì½”ë“œ (Clear Code)</label>
                    <input type="text" id="secretCode" class="form-input" placeholder="ì˜ˆ: 1234, ì†ŒíŒŒë’¤">
                </div>
                <div class="form-group">
                    <label for="hintMessage">ğŸ’¡ íŒíŠ¸ ë©”ì‹œì§€ (Next Step Hint)</label>
                    <input type="text" id="hintMessage" class="form-input" placeholder="ì˜ˆ: ê±°ì‹¤ ì†ŒíŒŒ ë’¤ë¥¼ ì°¾ì•„ë´!">
                </div>
                <div class="form-group">
                    <label for="successMessage">ğŸ‰ ì„±ê³µ ë©”ì‹œì§€ (Success Message)</label>
                    <input type="text" id="successMessage" class="form-input" placeholder="ì˜ˆ: ì¶•í•˜í•©ë‹ˆë‹¤!">
                </div>

                <div class="btn-group">
                    <button type="button" class="btn btn-home" onclick="location.href='index.html'">ê²Œì„ìœ¼ë¡œ</button>
                    <button type="button" class="btn btn-reset" id="resetBtn">ì´ˆê¸°í™”</button>
                    <button type="submit" class="btn btn-save">ì €ì¥í•˜ê¸°</button>
                </div>

            </form>
        </div>
    </div>

    <script src="../../assets/js/common.js"></script>
    <script src="admin.js"></script>
</body>

</html>