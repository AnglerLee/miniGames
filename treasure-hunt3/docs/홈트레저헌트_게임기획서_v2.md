# 홈 트레저헌트 (Home Treasure Hunt) - 게임 기획서 v2.0

> **버전:** v2.0 | **날짜:** 2026년 2월 14일
>
> **v2.0 변경사항:** 기존 `games/` 폴더에 구현된 20개 미니게임 분석 결과 및 `treasure-hunt/` 보물찾기 시스템 분석 결과를 반영

---

## 1. 게임 개요

### 1.1 컨셉

**홈 트레저헌트**는 디지털 미니게임과 실제 집안 보물찾기를 결합한 하이브리드 보물찾기 게임이다.

- **디지털 미니게임 20종:** 스마트폰에서 플레이하는 다양한 게임 (퍼즐, 센서, 카메라, 오디오 등)
- **실제 물건 찾기 미션:** 집 안 곳곳에 숨겨진 물건을 힌트로 찾아내기
- **보물 상자 암호:** 모든 미션 클리어 후 암호로 최종 보물 상자 열기
- **5가지 스토리 테마:** 프리셋 시나리오로 몰입감 높은 모험 제공

### 1.2 게임 사양

| 항목 | 사양 |
|------|------|
| **플랫폼** | 모바일 웹 (반응형, 세로 모드 최적화) |
| **대상 연령** | 초등학교 고학년 (11~13세) |
| **플레이어 수** | 1~2인 (단일 스마트폰) |
| **미션 수** | 세션당 5~7개 미션 |
| **플레이 시간** | 30~60분 |
| **데이터 저장** | localStorage (기기/브라우저 한정) |
| **네트워크** | 오프라인 가능 (정적 호스팅, 백엔드 불필요) |

---

## 2. 게임 흐름

```
[관리자(부모) 사전 설정]
    ↓
[S01] 메인 화면 → 게임 시작
    ↓
[S04] 스토리 인트로 (테마별 내레이션)
    ↓
[S05] 미션 허브 (진행도 표시)
    ↓ (반복)
    ├── [S06] 디지털 미니게임 플레이 → 성공 시 단서 획득
    └── [S07] 물건 찾기 미션 → 성공 시 단서 획득
    ↓ (모든 미션 완료)
[S08] 보물 상자 → 암호 입력 → 최종 보상!
```

---

## 3. 디지털 미니게임 20종

> **v2.0 업데이트:** 기존 기획서의 추상적 미니게임 목록을 `games/` 폴더에 실제 구현된 20개 게임으로 대체

### 3.1 게임 분류표

#### 퍼즐/두뇌 게임 (7종)

| # | 게임 ID | 이름 | 아이콘 | 설명 | 난이도 조절 |
|---|---------|------|--------|------|-----------|
| 1 | game02 | 미로 탈출 | 🌀 | Canvas 기반 미로를 터치/스와이프로 통과 | 격자 크기 (쉬움~어려움) |
| 2 | game03 | 짝 맞추기 | 🃏 | 이모지 카드를 뒤집어 같은 쌍 찾기 | 카드 수 (4~16쌍) |
| 3 | game05 | 숫자 퍼즐 | 🔢 | 15-puzzle 스타일 타일 슬라이딩 | 격자 크기 (3x3~4x4) |
| 4 | game07 | 빠른 계산 | ➕ | 시간 제한 내 수학 문제 풀기 | 연산 종류/자릿수 |
| 5 | game08 | 단어 찾기 | 🔤 | 글자 격자에서 숨겨진 단어 찾기 | 격자 크기/단어 수 |
| 6 | game20 | 이모지 넌센스 | 🤔 | 이모지 조합을 보고 단어/문장 추측 | 문제 수 |
| 7 | game22 | 와이파이 해커 | 📡 | 매트릭스 효과 속 비밀번호 추측 | 비밀번호 길이 |

#### 반사/액션 게임 (4종)

| # | 게임 ID | 이름 | 아이콘 | 설명 | 난이도 조절 |
|---|---------|------|--------|------|-----------|
| 8 | game11 | 순서대로 터치 | 🔢 | 숫자 버튼을 순서대로 빠르게 터치 | 숫자 개수/시간 제한 |
| 9 | game12 | 색깔 스피드 | 🌈 | 스트룹 테스트 - 글자색 vs 글자 내용 판별 | 문제 수/시간 제한 |
| 10 | game21 | 동시 터치 협동 | 🤝 | 두 손가락 동시 터치 협동 미션 | 단계 수 |
| 11 | game27 | 절대음감 스톱워치 | ⏱️ | 화면 없이 정확히 5초에 멈추기 | 허용 오차 |

#### 센서/디바이스 게임 (3종)

| # | 게임 ID | 이름 | 아이콘 | 설명 | 필요 API |
|---|---------|------|--------|------|---------|
| 12 | game13 | 에너지 충전 | ⚡ | 폰을 흔들어 에너지 게이지 채우기 | DeviceMotion |
| 13 | game16 | 매직 컴퍼스 | 🧭 | 지정 방향으로 폰 회전 | DeviceOrientation |
| 14 | game24 | 폭탄 해체 | 💣 | 폰을 수평으로 유지하며 해체 | DeviceOrientation |

#### 카메라/오디오 게임 (4종)

| # | 게임 ID | 이름 | 아이콘 | 설명 | 필요 API |
|---|---------|------|--------|------|---------|
| 15 | game15 | 데시벨 측정기 | 🔊 | 큰 소리로 게이지 채우기 | 마이크 + Web Audio |
| 16 | game17 | 바코드 스캐너 | 📱 | 특정 물건의 바코드/QR 스캔 | 카메라 + JSZBar |
| 17 | game18 | 컬러 헌터 | 🎨 | 카메라로 지정 색상 물건 찾기 | 카메라 |
| 18 | game19 | 리버스 오디오 | 🔄 | 변형된 오디오에서 원래 단어 추측 | Web Audio |

#### 특수 인터랙션 게임 (2종)

| # | 게임 ID | 이름 | 아이콘 | 설명 | 특징 |
|---|---------|------|--------|------|------|
| 19 | game23 | 디지털 금고 털이 | 🔓 | 다이얼 회전으로 비밀번호 찾기 | 진동 피드백 |
| 20 | game25 | 복권 긁기 | 🎫 | Canvas 스크래치 카드 긁기 | Canvas 터치 |

### 3.2 각 게임별 구현 상태

> 모든 20개 미니게임은 `games/` 폴더에 **구현 완료** 상태

| 게임 | 구현 파일 | 관리자 설정 | 보물찾기 통합 |
|------|----------|-----------|-------------|
| game02 미로 | `games/02-maze/game.js` (18KB) | difficulty, timeLimit, theme | O (postMessage) |
| game03 카드매치 | `games/03-card-match/game.js` | pairCount, timeLimit | O |
| game05 슬라이딩 | `games/05-sliding-puzzle/game.js` | gridSize, timeLimit, theme | O |
| game07 수학 | `games/07-math-race/game.js` | difficulty, timeLimit | O |
| game08 단어찾기 | `games/08-word-search/game.js` (16KB) | gridSize, timeLimit | O |
| game11 순서터치 | `games/11-sequence-tap/game.js` | buttonCount, timeLimit | O |
| game12 색깔 | `games/12-color-rush/game.js` | questionCount, timeLimit | O |
| game13 에너지 | `games/13-energy-charge/game.js` | targetEnergy, timeLimit, theme | O |
| game15 데시벨 | `games/15-decibel-meter/game.js` | targetLevel, timeLimit | O |
| game16 컴퍼스 | `games/16-magic-compass/game.js` (16KB) | targetDirection, tolerance | O |
| game17 바코드 | `games/17-barcode-scanner/game.js` (16KB) | targetBarcodes, timeLimit | O |
| game18 컬러헌터 | `games/18-color-hunter/script.js` | targetColor, tolerance | O |
| game19 리버스 | `games/19-reverse-audio/script.js` | difficulty | O |
| game20 이모지 | `games/20-emoji-quiz/script.js` | questionCount | O |
| game21 동시터치 | `games/21-dual-touch/script.js` | stageCount | O |
| game22 와이파이 | `games/22-wifi-hacker/script.js` | passwordLength | O |
| game23 금고 | `games/23-safe-cracker/script.js` | codeLength | O |
| game24 폭탄 | `games/24-bomb-balance/script.js` | timeLimit, tolerance | O |
| game25 스크래치 | `games/25-scratch-card/index.html` | (인라인) | O |
| game27 스톱워치 | `games/27-stopwatch/script.js` | targetTime, tolerance | O |

### 3.3 게임 공통 메커니즘

**재시도 시스템:**
- 실패 시 재시도 가능 (무제한)
- 재시도마다 보너스 시간 추가 (게임별 상이)
- 3회 초과 실패 시 "건너뛰기" 옵션 제공

**난이도 시스템:**
- 쉬움/보통/어려움 3단계
- 게임별 난이도가 영향을 주는 요소가 다름 (시간, 격자 크기, 허용 오차 등)

**재시도 보너스 시간:**
| 게임 | 보너스 시간/재시도 |
|------|-----------------|
| game11 순서대로 터치 | +5초 |
| game03 짝 맞추기 | +1초 |
| game05 숫자 퍼즐 | +1초 |
| game07 빠른 계산 | +5초 |
| game08 단어 찾기 | +30초 |

---

## 4. 물건 찾기 미션

### 4.1 미션 구조

```json
{
  "type": "findObject",
  "hints": [
    "부엌의 왼쪽 아래 선반에 숨어있어",
    "색이 동전같은 금속이네",
    "아무도 몰라요"
  ],
  "answers": ["동전", "금 동전"],
  "clue": { "type": "number", "content": "7" },
  "storyText": "집 안에 흩어진 보물을 찾아라!"
}
```

### 4.2 미션 진행

1. 스토리 텍스트로 미션 배경 설명
2. 첫 번째 힌트 카드 표시
3. "힌트 꺼내기" 버튼으로 추가 힌트 (최대 3개)
4. 정답 텍스트 입력 → 비교 (공백/대소문자 무시, 다중 정답 지원)
5. 정답 시 단서 획득 + 성공 화면
6. 3회 오답 시 자동 힌트 전개

---

## 5. 프리셋 스토리 테마

### 5.1 5가지 프리셋

| # | 테마 ID | 이름 | 배경 색상 | 스토리 |
|---|---------|------|----------|--------|
| 1 | mystery | 미스테리 탐정단 | 네이비/골드 | 비밀 금고를 찾아라 (암호: 724) |
| 2 | pirate | 해적 보물섬 | 갈색/골드 | 블랙비어드의 보물 지도를 복원하라 |
| 3 | space | 우주 탐험대 | 딥블루/시안 | 외계인 메시지를 해독하라 |
| 4 | magic | 마법학교 비밀 | 보라/핑크 | 마법 시험을 통과해 봉인을 풀어라 |
| 5 | dino | 공룡시대 발굴단 | 녹색/오렌지 | 화석 단서로 타임캡슐을 해독하라 |

### 5.2 기존 구현된 프리셋과의 관계

> 기존 `treasure-hunt/js/default-presets.js`에는 5개 프리셋이 구현되어 있음 (pirate/space/magic/jungle/spy)
> 홈 트레저헌트에서는 기획서 기준의 5개 테마(mystery/pirate/space/magic/dino)를 사용하되, 기존 프리셋의 게임 배치 및 스토리 텍스트 구조를 참고

**프리셋 데이터 구조 (기존 구현 기반):**
```javascript
{
    id: 'default-pirate',
    name: '해적 보물 찾기',
    theme: 'pirate',
    description: '전설의 해적 선장 블랙비어드의 보물을 찾아라!',
    games: [
        {
            gameId: 'game03',           // 기존 구현된 게임 ID
            storyText: '오래된 해적 지도를 발견했다!...',
            hintMessage: '거실 소파 뒤를 찾아봐!',
            secretCode: '🏴‍☠️',
            successMessage: '지도의 첫 번째 단서를 찾았다!'
        },
        // ... 5~7개 미션
    ],
    finalReward: {
        message: '축하한다, 용감한 해적이여!',
        secretCode: 'TREASURE'
    }
}
```

---

## 6. 보물 상자 (최종 단계)

### 6.1 테마별 암호 입력 인터랙션

| 테마 | 인터랙션 방식 |
|------|-------------|
| mystery | 터치 드래그로 3자리 좌우 회전 |
| pirate | 핸들 드래그로 숫자 회전 |
| space | 터치 드래그 인터랙션 |
| magic | 터치 탭으로 숫자 배열 |
| dino | 흔들기로 숫자 셔플 + 잠금 해제 |

### 6.2 성공 보상

- 최종 보상 메시지 표시
- 컨페티/파티클 애니메이션
- 전체 미션 결과 요약 (등급, 시간, 시도 횟수)

---

## 7. 관리자(부모) 시스템

### 7.1 사전 설정 기능

| 설정 항목 | 설명 |
|----------|------|
| 프리셋 선택 | 5가지 스토리 테마 중 선택 |
| 미션 편집 | 미니게임/물건찾기 추가/삭제/순서 변경 |
| 미니게임 선택 | 20개 중 선택 + 난이도/시간 설정 |
| 물건찾기 설정 | 힌트 1~3개 + 정답 (다중) |
| 단서 설정 | 각 미션 클리어 시 획득할 단서 |
| 보물 암호 | 최종 보물 상자 3자리 암호 |
| 전체 시간제한 | 선택적 (무제한 가능) |

### 7.2 관리자 인증

- PIN 4자리 (기본값: 0000)
- 5회 오류 시 30초 차단

---

## 부록: 기존 기획서 대비 변경 이력

| 항목 | 기존 기획서 (v1.0) | 업데이트 (v2.0) |
|------|-------------------|-----------------|
| 미니게임 목록 | 추상적 20종 나열 | 구체적 20종 (구현 완료된 게임 ID 기반) |
| 게임 분류 | 단순 나열 | 유형별 분류 (퍼즐/액션/센서/카메라/특수) |
| 난이도 시스템 | 개념적 설명 | 게임별 구체적 파라미터 명시 |
| 재시도 시스템 | 미언급 | 보너스 시간 등 구체적 메커니즘 |
| 프리셋 구조 | 스토리 중심 설명 | 실제 데이터 구조 + 기존 구현 참조 |
| 관리자 게임 선택 | "게임 선택" | 실제 게임 ID (game02~game27) |
| 센서 게임 | "자이로스코프 미니게임" | DeviceMotion/Orientation 분리, 3종 명시 |
| 카메라/오디오 | "카메라/음성 게임" | 4종 구체적 명시 (바코드, 컬러헌터, 데시벨, 리버스) |
